(()=>{"use strict";var e={5861:(e,t,r)=>{r(6992),r(8674),r(9601),r(7727),r(9554),r(1539),r(4747);var a=r(144),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"success"}},[t("img",{staticStyle:{height:"60px","margin-right":"10px"},attrs:{src:r(7334),alt:"WhiteHeadChef Icon"}}),t("b-navbar-brand",{attrs:{to:{name:"main"}}},[e._v("Home")]),t("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[t("b-navbar-nav",[t("b-nav-item",{attrs:{to:{name:"search"}}},[e._v("Search")])],1),e.$root.store.username?t("b-navbar-nav",{staticClass:"ml-auto"},[t("b-nav-item",{attrs:{to:{name:"about"}}},[e._v("About")]),t("b-nav-item-dropdown",{scopedSlots:e._u([{key:"button-content",fn:function(){return[e._v(" Personal ")]},proxy:!0}])},[t("b-dropdown-item",{attrs:{to:{name:"myRecipes"}}},[e._v("My Recipes")]),t("b-dropdown-item",{attrs:{to:{name:"favoriteRecipes"}}},[e._v("Favorite Recipes")]),t("b-dropdown-item",{attrs:{to:{name:"familyRecipes"}}},[e._v("Family Recipes")])],1),t("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._v(" User ")]},proxy:!0}])},[t("b-dropdown-item",[e._v(" "+e._s(e.$root.store.username)+": "),t("button",{on:{click:e.Logout}},[e._v("Logout")]),e._v(" | ")])],1),t("b-nav-text",[e._v("Hello "+e._s(e.$root.store.username))])],1):t("b-navbar-nav",{staticClass:"ml-auto"},[t("b-nav-item",{attrs:{to:{name:"login"}}},[e._v("Login")]),t("b-nav-item",{attrs:{to:{name:"register"}}},[e._v("Register")]),t("b-nav-text",[e._v("Hello Guest")])],1)],1)],1),t("div",{staticClass:"content-container"},[t("router-view")],1)],1)},i=[];r(7658);const s={name:"App",methods:{Logout:function(){var e=this;this.$root.store.logout(),this.$root.toast("Logout","User logged out successfully","success"),this.$router.push("/")["catch"]((function(){e.$forceUpdate()}))}}},o=s;var c=r(1001),u=(0,c.Z)(o,n,i,!1,null,null,null);const l=u.exports;var p=r(1939),d=r.n(p),m=r(9669),v=r.n(m),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"header"},[t("button",{staticClass:"cube-button",on:{click:e.fetchRandomRecipes}},[e._m(0)])]),t("RecipePreviewList",{staticClass:"RandomRecipes center",attrs:{title:"Explore these recipes",amount:"3",previewType:"random",recipes:e.randomRecipesPreviewList},on:{"update-recipes":e.handleUpdateRecipes}}),e.$root.store.username?e._e():t("router-link",{attrs:{to:"/login",tag:"b-button"}},[e._v(" You need to Login to view this ")]),t("RecipePreviewList",{class:{RandomRecipes:!0,blur:!e.$root.store.username,center:!0},attrs:{title:"Last Viewed Recipes",amount:"3",recipes:e.recentRecipesPreviewList,previewType:"recent",disabled:""}})],1)},h=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"cube"},[t("div",{staticClass:"face front"},[t("div",{staticClass:"dot dot1"})]),t("div",{staticClass:"face back"},[t("div",{staticClass:"dot dot1"}),t("div",{staticClass:"dot dot2"}),t("div",{staticClass:"dot dot3"}),t("div",{staticClass:"dot dot4"}),t("div",{staticClass:"dot dot5"}),t("div",{staticClass:"dot dot6"})]),t("div",{staticClass:"face right"},[t("div",{staticClass:"dot dot1"}),t("div",{staticClass:"dot dot2"}),t("div",{staticClass:"dot dot3"})]),t("div",{staticClass:"face left"},[t("div",{staticClass:"dot dot1"}),t("div",{staticClass:"dot dot2"}),t("div",{staticClass:"dot dot3"})]),t("div",{staticClass:"face top"},[t("div",{staticClass:"dot dot1"}),t("div",{staticClass:"dot dot2"}),t("div",{staticClass:"dot dot3"}),t("div",{staticClass:"dot dot4"}),t("div",{staticClass:"dot dot5"})]),t("div",{staticClass:"face bottom"},[t("div",{staticClass:"dot dot1"}),t("div",{staticClass:"dot dot2"}),t("div",{staticClass:"dot dot3"}),t("div",{staticClass:"dot dot4"}),t("div",{staticClass:"dot dot5"}),t("div",{staticClass:"dot dot6"})])])}],g=r(5957),b=r(124),w=r(8534),y=function(){var e=this,t=e._self._c;return t("b-container",[t("h3",[t("b",[e._v(e._s(e.title)+":")]),e._t("default")],2),t("b-row",e._l(e.recipes,(function(e){return t("b-col",{key:e.id,attrs:{lg:"4"}},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)],1)},_=[],x=(r(9653),r(8309),function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",staticStyle:{width:"18rem",height:"36rem","margin-bottom":"1rem",position:"relative"}},[t("img",{staticClass:"card-img-top",attrs:{src:e.recipe.image}}),t("div",{staticClass:"card-body"},[t("router-link",{attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id,parentRouteName:this.$route.name}}}},[t("h7",{staticClass:"recipe-title"},[e._v(e._s(e.recipe.title))])],1),e.isWatched?t("p",{staticClass:"seen-text"},[e._v("SEEN")]):e._e(),t("p",{staticClass:"card-text",staticStyle:{height:"10rem"}},[e._v(" "+e._s(this.truncateText(e.recipe.summary,150))+" "),t("router-link",{attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id,parentRouteName:this.$route.name}}}},[e._v("Learn more")])],1),t("button",{staticClass:"star-icon",on:{click:e.toggleStar}},[e.isStarred?e.isStarred?t("img",{attrs:{src:r(7715),width:"30px",height:"30px"}}):e._e():t("img",{attrs:{src:r(6380),width:"30px",height:"30px"}})]),t("button",{staticClass:"heart-icon",on:{click:e.toggleHeart}},["family"!=this.recipeType&&"personal"!=this.recipeType?t("p",[e._v(" "+e._s(e.likes)+" likes ")]):e._e(),"myRecipes"==this.$route.name||"familyRecipes"==this.$route.name||"family"==this.recipeType||"personal"==this.recipeType?t("img",{staticStyle:{display:"none"},attrs:{src:r(5414),width:"30px",height:"30px"}}):e.isHearted?e.isHearted?t("img",{attrs:{src:r(8890),width:"30px",height:"30px"}}):e._e():t("img",{attrs:{src:r(5414),width:"30px",height:"30px"}})]),t("div",{staticClass:"bottom-icons-container"},[e.recipe.vegan?t("img",{attrs:{src:r(5063),title:"Vegan Friendly"}}):e._e(),e.recipe.vegetarian?t("img",{attrs:{src:r(5491),title:"Vegetarian"}}):e._e(),e.recipe.glutenFree?t("img",{attrs:{src:r(3715),title:"Gluten Free"}}):e._e()]),t("div",{staticClass:"clock-icon-container"},[t("img",{attrs:{src:r(6652)}}),e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes ")])],1)])}),k=[],C=(r(4916),r(5306),r(7042),r(3087)),R=r(2833),S=r(2482),Z=(r(189),r(8783),r(3948),function(){function e(){(0,C.Z)(this,e)}return(0,R.Z)(e,null,[{key:"loadRecipeIds",value:function(){var t=(0,w.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("managerIds",this.personalRecipesIds),!this.isInitialized){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,W();case 5:r=t.sent,e.personalRecipesIds=new Set(r),console.log("managerIds",this.personalRecipesIds),e.isInitialized=!0;case 9:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}()},{key:"getPersonalRecipeIds",value:function(){var t=(0,w.Z)((0,b.Z)().mark((function t(){return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadRecipeIds();case 2:return t.abrupt("return",(0,g.Z)(e.personalRecipesIds));case 3:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()},{key:"isPersonalRecipe",value:function(){var t=(0,w.Z)((0,b.Z)().mark((function t(r){return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadRecipeIds();case 2:return t.abrupt("return",e.personalRecipesIds.has(r));case 3:case"end":return t.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"notifyChange",value:function(){e.isInitialized=!1}}]),e}());(0,S.Z)(Z,"personalRecipesIds",new Set),(0,S.Z)(Z,"isInitialized",!1);var $="https://tal-noam.cs.bgu.ac.il";function I(e){return P.apply(this,arguments)}function P(){return P=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat($,"/users/favorites"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),P.apply(this,arguments)}function L(e){return M.apply(this,arguments)}function M(){return M=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()["delete"]("".concat($,"/users/favorites"),{data:{recipeId:t},withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),M.apply(this,arguments)}function F(){return A.apply(this,arguments)}function A(){return A=(0,w.Z)((0,b.Z)().mark((function e(){var t,r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("favoriteIds1","personalRecipeIds"),e.next=4,Z.getPersonalRecipeIds();case 4:return t=e.sent,console.log("favoriteIds2",t),e.next=8,v().post("".concat($,"/users/getFavorites"),{personalRecipeIds:t},{withCredentials:!0});case 8:return r=e.sent,e.abrupt("return",r.data);case 12:throw e.prev=12,e.t0=e["catch"](0),e.t0.response;case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),A.apply(this,arguments)}function E(e){return T.apply(this,arguments)}function T(){return T=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat($,"/users/isFavorite"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data.favorite);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),T.apply(this,arguments)}function q(e){return B.apply(this,arguments)}function B(){return B=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat($,"/users/like"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),B.apply(this,arguments)}function N(e){return G.apply(this,arguments)}function G(){return G=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat($,"/users/unlike"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),G.apply(this,arguments)}function D(e){return U.apply(this,arguments)}function U(){return U=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat($,"/users/isLiked"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data.liked);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),U.apply(this,arguments)}function H(e){return O.apply(this,arguments)}function O(){return O=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat($,"/users/createARecipe"),t,{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),O.apply(this,arguments)}function V(e){return j.apply(this,arguments)}function j(){return j=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat($,"/users/createFamilyRecipe"),t,{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),j.apply(this,arguments)}function z(){return K.apply(this,arguments)}function K(){return K=(0,w.Z)((0,b.Z)().mark((function e(){var t;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("".concat($,"/users/userRecipes"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching user recipes:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),K.apply(this,arguments)}function W(){return Q.apply(this,arguments)}function Q(){return Q=(0,w.Z)((0,b.Z)().mark((function e(){var t;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("".concat($,"/users/userRecipeIds"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching user recipe IDs:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),Q.apply(this,arguments)}function J(e){return Y.apply(this,arguments)}function Y(){return Y=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("".concat($,"/users/userRecipe"),{params:{recipe_id:t},withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching user recipe:",e.t0),e.t0.response;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),Y.apply(this,arguments)}r(8862);var X="https://tal-noam.cs.bgu.ac.il";function ee(){return te.apply(this,arguments)}function te(){return te=(0,w.Z)((0,b.Z)().mark((function e(){var t;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("".concat(X,"/recipes/random"),{params:{number:3},withCredentials:!0});case 3:return t=e.sent,console.log(t.data.recipes),e.abrupt("return",{data:{recipes:t.data}});case 8:return e.prev=8,e.t0=e["catch"](0),console.error("Error fetching random recipes:",e.t0),e.abrupt("return",{data:{recipes:[]}});case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),te.apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return ae=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("".concat(X,"/recipes/").concat(t),{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching recipe by ID:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),ae.apply(this,arguments)}function ne(e,t,r,a,n){return ie.apply(this,arguments)}function ie(){return ie=(0,w.Z)((0,b.Z)().mark((function e(t,r,a,n,i){var s;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("".concat(X,"/recipes/search"),{params:{recipeName:t,cuisine:r,diet:a,intolerance:n,number:i},withCredentials:!0});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error searching for recipes:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),ie.apply(this,arguments)}function se(e){return oe.apply(this,arguments)}function oe(){return oe=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat(X,"/users/watched"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e["catch"](0),console.error("Error marking recipe as watched:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),oe.apply(this,arguments)}function ce(e){return ue.apply(this,arguments)}function ue(){return ue=(0,w.Z)((0,b.Z)().mark((function e(t){var r,a;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=JSON,e.next=4,Z.getPersonalRecipeIds();case 4:return e.t1=e.sent,r=e.t0.stringify.call(e.t0,e.t1),e.next=8,v().get("".concat(X,"/users/lastWatchedRecipes"),{params:{limit:t,personalRecipeIds:r},withCredentials:!0});case 8:return a=e.sent,e.abrupt("return",a.data);case 12:throw e.prev=12,e.t2=e["catch"](0),console.error("Error fetching last viewed recipes:",e.t2),e.t2;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),ue.apply(this,arguments)}function le(e){return pe.apply(this,arguments)}function pe(){return pe=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat(X,"/users/isWatched"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data.watched);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error checking if recipe is watched:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),pe.apply(this,arguments)}function de(e){return me.apply(this,arguments)}function me(){return me=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("".concat(X,"/users/getRecipeType"),{params:{recipe_id:t},withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data.recipeType?r.data.recipeType:"spoonacular");case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Error fetching recipe type:",e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),me.apply(this,arguments)}const ve={data:function(){return{isStarred:!1,isHearted:!1,recipeType:null,likes:this.recipe?this.recipe.aggregateLikes:0,isWatched:!1}},props:{recipe:{type:Object,required:!0}},created:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de(e.recipe.id);case 2:return e.recipeType=t.sent,t.next=5,E(e.recipe.id);case 5:if(!t.sent){t.next=9;break}e.isStarred=!0,t.next=10;break;case 9:e.isStarred=!1;case 10:return t.next=12,D(e.recipe.id);case 12:if(!t.sent){t.next=17;break}e.isHearted=!0,e.likes+=1,t.next=18;break;case 17:e.isHearted=!1;case 18:return t.next=20,le(e.recipe.id);case 20:if(!t.sent){t.next=22;break}e.isWatched=!0;case 22:case"end":return t.stop()}}),t)})))()},methods:{truncateText:function(e,t){if("string"!==typeof e)return"";var r=e.replace(/<[^>]*>/g,""),a=r.length>t?r.slice(0,t)+"...":r;return a},toggleStar:function(){this.isStarred=!this.isStarred,this.isStarred?I(this.recipe.id,this.recipeType):(L(this.recipe.id),"favoriteRecipes"===this.$route.name&&this.$router.go(0))},toggleHeart:function(){this.isHearted=!this.isHearted,this.isHearted?(this.likes+=1,q(this.recipe.id)):(this.likes-=1,N(this.recipe.id)),this.recipe.aggregateLikes=this.likes}}},fe=ve;var he=(0,c.Z)(fe,x,k,!1,null,"0cf6db43",null);const ge=he.exports,be={name:"RecipePreviewList",components:{RecipePreview:ge},props:{title:{type:String,required:!0},amount:{type:Number,required:!0},previewType:{type:Text,required:!0},recipes:{type:Array,required:!0}},data:function(){return{}}},we=be;var ye=(0,c.Z)(we,y,_,!1,null,"111588d4",null);const _e=ye.exports,xe={components:{RecipePreviewList:_e},data:function(){return{randomRecipesPreviewList:[],recentRecipesPreviewList:[]}},created:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchRandomRecipes();case 2:return t.next=4,e.fetchLastViewedRecipes();case 4:case"end":return t.stop()}}),t)})))()},methods:{fetchRandomRecipes:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r,a;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee();case 3:r=t.sent,a=r.data.recipes,e.randomRecipesPreviewList=(0,g.Z)(a),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error("Error fetching random recipes:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},fetchLastViewedRecipes:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$root.store.username){t.next=11;break}return t.prev=1,t.next=4,ce(3);case 4:r=t.sent,e.recentRecipesPreviewList=(0,g.Z)(r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error("Error fetching last viewed recipes:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},ke=xe;var Ce=(0,c.Z)(ke,f,h,!1,null,"7fa76ddc",null);const Re=Ce.exports;var Se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",[e._v("Four Oh Four you didn't")]),t("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},Ze=[],$e={},Ie=(0,c.Z)($e,Se,Ze,!1,null,null,null);const Pe=Ie.exports;var Le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Register")]),t("b-form",{on:{submit:function(t){return t.preventDefault(),e.onRegister.apply(null,arguments)},reset:function(t){return t.preventDefault(),e.onReset.apply(null,arguments)}}},[t("b-form-group",{attrs:{id:"input-group-username","label-cols-sm":"3",label:"Username:","label-for":"username"}},[t("b-form-input",{attrs:{id:"username",type:"text",state:e.validateState("username")},on:{input:e.checkUsername},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),e.$v.form.username.required?e.$v.form.username.length?e._e():t("b-form-invalid-feedback",[e._v(" Username length should be between 3-8 characters long ")]):t("b-form-invalid-feedback",[e._v(" Username is required ")]),e.$v.form.username.alpha?e._e():t("b-form-invalid-feedback",[e._v(" Username should contain letters only ")]),e.usernameError?t("b-form-invalid-feedback",[e._v(" Username already exists. Please enter a different username. ")]):e._e()],1),t("b-form-group",{attrs:{id:"input-group-firstname","label-cols-sm":"3",label:"First Name:","label-for":"firstname"}},[t("b-form-input",{attrs:{id:"firstname",type:"text",state:e.validateState("firstname")},model:{value:e.$v.form.firstname.$model,callback:function(t){e.$set(e.$v.form.firstname,"$model",t)},expression:"$v.form.firstname.$model"}}),e.$v.form.firstname.required?e._e():t("b-form-invalid-feedback",[e._v(" First name is required ")])],1),t("b-form-group",{attrs:{id:"input-group-lastname","label-cols-sm":"3",label:"Last Name:","label-for":"lastname"}},[t("b-form-input",{attrs:{id:"lastname",type:"text",state:e.validateState("lastname")},model:{value:e.$v.form.lastname.$model,callback:function(t){e.$set(e.$v.form.lastname,"$model",t)},expression:"$v.form.lastname.$model"}}),e.$v.form.lastname.required?e._e():t("b-form-invalid-feedback",[e._v(" Last name is required ")])],1),t("b-form-group",{attrs:{id:"input-group-country","label-cols-sm":"3",label:"Country:","label-for":"country"}},[t("b-form-select",{attrs:{id:"country",options:e.countries,state:e.validateState("country")},model:{value:e.$v.form.country.$model,callback:function(t){e.$set(e.$v.form.country,"$model",t)},expression:"$v.form.country.$model"}}),t("b-form-invalid-feedback",[e._v(" Country is required ")])],1),t("b-form-group",{attrs:{id:"input-group-password","label-cols-sm":"3",label:"Password:","label-for":"password"}},[t("b-form-input",{attrs:{id:"password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),e.$v.form.password.required?e._e():t("b-form-invalid-feedback",[e._v(" Password is required ")]),e.$v.form.password.$error?t("b-form-invalid-feedback",[e._v(" Your password should be between 5-10 characters long and contain at least one number and one special character. ")]):e._e()],1),t("b-form-group",{attrs:{id:"input-group-confirmedPassword","label-cols-sm":"3",label:"Confirm Password:","label-for":"confirmedPassword"}},[t("b-form-input",{attrs:{id:"confirmedPassword",type:"password",state:e.validateState("confirmedPassword")},model:{value:e.$v.form.confirmedPassword.$model,callback:function(t){e.$set(e.$v.form.confirmedPassword,"$model",t)},expression:"$v.form.confirmedPassword.$model"}}),e.$v.form.confirmedPassword.required?e.$v.form.confirmedPassword.sameAsPassword?e._e():t("b-form-invalid-feedback",[e._v(" The confirmed password does not match the original password ")]):t("b-form-invalid-feedback",[e._v(" Password confirmation is required ")])],1),t("b-form-group",{attrs:{id:"input-group-email","label-cols-sm":"3",label:"Email:","label-for":"email"}},[t("b-form-input",{attrs:{id:"email",type:"email",state:e.validateState("email")},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}}),e.$v.form.email.required?e.$v.form.email.email?e._e():t("b-form-invalid-feedback",[e._v(" Email must be valid ")]):t("b-form-invalid-feedback",[e._v(" Email is required ")])],1),t("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")]),t("b-button",{staticClass:"ml-5 w-75",staticStyle:{width:"250px"},attrs:{type:"submit",variant:"primary"}},[e._v("Register")]),t("div",{staticClass:"mt-2"},[e._v(" Already have an account? "),t("router-link",{attrs:{to:"login"}},[e._v("Log in here")])],1)],1),e.form.submitError?t("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Register failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},Me=[];const Fe=["Afghanistan","Åland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","United States Minor Outlying Islands","Virgin Islands (British)","Virgin Islands (U.S.)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cabo Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo (Democratic Republic of the)","Cook Islands","Costa Rica","Croatia","Cuba","Curaçao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Côte d'Ivoire","Iran (Islamic Republic of)","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia (the former Yugoslav Republic of)","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Korea (Democratic People's Republic of)","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of Kosovo","Réunion","Romania","Russian Federation","Rwanda","Saint Barthélemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","Korea (Republic of)","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom of Great Britain and Northern Ireland","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"];var Ae=r(379),Ee="https://tal-noam.cs.bgu.ac.il";function Te(e){return qe.apply(this,arguments)}function qe(){return qe=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat(Ee,"/Register"),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),qe.apply(this,arguments)}function Be(e){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,w.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().post("".concat(Ee,"/Login"),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ne.apply(this,arguments)}var Ge=Ae.BM.regex("password",/^(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{5,10}$/);const De={name:"Register",data:function(){return{form:{username:"",firstname:"",lastname:"",country:null,password:"",confirmedPassword:"",email:"",submitError:void 0},countries:[{value:null,text:"",disabled:!0}],usernameError:!1}},validations:{form:{username:{required:Ae.C1,length:function(e){return(0,Ae.Ei)(3)(e)&&(0,Ae.BS)(8)(e)},alpha:Ae.Fq},firstname:{required:Ae.C1},lastname:{required:Ae.C1},country:{required:Ae.C1},password:{required:Ae.C1,length:function(e){return(0,Ae.Ei)(5)(e)&&(0,Ae.BS)(10)(e)},passwordValidator:Ge},confirmedPassword:{required:Ae.C1,sameAsPassword:(0,Ae.sH)("password")},email:{required:Ae.C1,email:Ae.Do}}},mounted:function(){var e;(e=this.countries).push.apply(e,(0,g.Z)(Fe))},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},Register:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={username:e.form.username,firstname:e.form.firstname,lastname:e.form.lastname,country:e.form.country,password:e.form.password,email:e.form.email},t.next=4,Te(r);case 4:t.sent,e.$router.push("/login"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0.response),t.t0.response&&t.t0.response.data?e.form.submitError=t.t0.response.data.message:e.form.submitError="An error occurred during registration";case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onRegister:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.Register();case 5:case"end":return t.stop()}}),t)})))()},onReset:function(){var e=this;this.form={username:"",firstname:"",lastname:"",country:null,password:"",confirmedPassword:"",email:""},this.$nextTick((function(){e.$v.$reset()}))}}},Ue=De;var He=(0,c.Z)(Ue,Le,Me,!1,null,"88fb332a",null);const Oe=He.exports;var Ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Login")]),t("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin.apply(null,arguments)}}},[t("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[t("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),t("b-form-invalid-feedback",[e._v(" Username is required ")])],1),t("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[t("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),t("b-form-invalid-feedback",[e._v(" Password is required ")])],1),t("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),t("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),t("router-link",{attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?t("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},je=[];const ze={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:Ae.C1},password:{required:Ae.C1}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},Login:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={username:e.form.username,password:e.form.password},t.next=4,Be(r);case 4:t.sent,console.log(e.$root.store.login),e.$root.store.login(e.form.username),"/"!==e.$router.currentRoute.path&&e.$router.push("/"),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error("Error during login:",t.t0),t.t0.response&&t.t0.response.data&&t.t0.response.data.message?e.form.submitError=t.t0.response.data.message:e.form.submitError="An error occurred during login.";case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},Ke=ze;var We=(0,c.Z)(Ke,Ve,je,!1,null,"3f942f0d",null);const Qe=We.exports;var Je=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Search Page")]),t("RecipeSearch")],1)},Ye=[],Xe=(r(1249),r(7327),function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-container"},[e.isLoggedIn?t("div",[t("h2",[e._v("Your Most Recent Search")]),e.recentSearch?t("div",[t("p",[e._v(e._s(e.recentSearch))])]):t("div",[t("p",[e._v("You have no recent searches.")])])]):e._e(),t("div",{staticClass:"recipe-search-container"},[t("div",{staticClass:"search-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.recentSearch?e.recentSearch:"Search recipes"},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),t("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:e.onSearch}},[e._v("Search")])]),t("label",{staticClass:"input-label"},[e._v("Search Amount:")]),t("div",{staticClass:"input-group mb-3"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.resultAmount,expression:"resultAmount"}],staticClass:"form-select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.resultAmount=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"5"}},[e._v("5")]),t("option",{attrs:{value:"10"}},[e._v("10")]),t("option",{attrs:{value:"15"}},[e._v("15")])])]),t("label",{staticClass:"input-label"},[e._v("Select Cuisine:")]),t("div",{staticClass:"input-group mb-3"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisine,expression:"selectedCuisine"}],staticClass:"form-select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCuisine=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All")]),e._l(e.cuisines,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)]),t("label",{staticClass:"input-label"},[e._v("Select Diet:")]),t("div",{staticClass:"input-group mb-3"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiet,expression:"selectedDiet"}],staticClass:"form-select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDiet=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All")]),e._l(e.diets,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)]),t("label",{staticClass:"input-label"},[e._v("Select Intolerance:")]),t("div",{staticClass:"input-group mb-3"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerance,expression:"selectedIntolerance"}],staticClass:"form-select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedIntolerance=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All")]),e._l(e.intolerances,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)]),t("label",{staticClass:"input-label"},[e._v("Sort by:")]),t("div",{staticClass:"input-group mb-3"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],staticClass:"form-select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortBy=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"time"}},[e._v("Preparation Time")]),t("option",{attrs:{value:"popularity"}},[e._v("Popularity")])])]),e.recipeResultsList.length>0?t("RecipePreviewList",{staticClass:"My Recipes Center",attrs:{title:"Results",amount:e.resultAmount,previewType:"",recipes:e.recipeResultsList}}):t("p",{staticClass:"no-results-message"},[e._v("There are no relevant results.")])],1)])}),et=[];r(2707);const tt={components:{RecipePreviewList:_e},data:function(){return{recentSearch:null,searchQuery:"",resultAmount:5,selectedCuisine:"",selectedDiet:"",selectedIntolerance:"",sortBy:"time",recipeResultsList:[],isLoggedIn:!1,cuisines:["African","Asian","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],diets:["Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescatarian","Paleo","Primal","Low FODMAP","Whole30"],intolerances:["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"]}},created:function(){this.isLoggedIn=this.$root.loggedIn,localStorage.getItem("username")&&this.loadLastSearch()},methods:{onSearch:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return{query:e.searchQuery,amount:e.resultAmount,cuisine:e.selectedCuisine,diet:e.selectedDiet,intolerance:e.selectedIntolerance,sortBy:e.sortBy},t.next=3,ne(e.searchQuery,e.selectedCuisine,e.selectedDiet,e.selectedIntolerance,e.resultAmount);case 3:r=t.sent,e.recipeResultsList=(0,g.Z)(r),"popularity"===e.sortBy?e.recipeResultsList.sort((function(e,t){return t.aggregateLikes-e.aggregateLikes})):"time"===e.sortBy&&e.recipeResultsList.sort((function(e,t){return e.readyInMinutes-t.readyInMinutes})),localStorage.getItem("username")&&e.saveLastSearch(e.searchQuery);case 7:case"end":return t.stop()}}),t)})))()},saveLastSearch:function(e){localStorage.getItem("username")&&(sessionStorage.setItem("recentSearchQuery",e),this.recentSearch="Last Search: "+e)},loadLastSearch:function(){if(localStorage.getItem("username")){var e=sessionStorage.getItem("recentSearchQuery");e&&(this.recentSearch="Last Search: "+e)}}}},rt=tt;var at=(0,c.Z)(rt,Xe,et,!1,null,"edaae4a6",null);const nt=at.exports,it={components:{RecipeSearch:nt}},st=it;var ot=(0,c.Z)(st,Je,Ye,!1,null,"05fd961d",null);const ct=ot.exports;var ut=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e.recipe?t("div",[t("div",{staticClass:"recipe-header mt-3 mb-4"},[t("h1",[e._v(e._s(e.recipe.title))]),t("img",{staticClass:"center",attrs:{src:e.recipe.image}})]),t("div",{staticClass:"recipe-body"},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"wrapped"},[t("div",{staticClass:"mb-3"},[t("div",[e._v("Ready in "+e._s(e.recipe.readyInMinutes)+" minutes")]),e.isPersonal?e._e():t("div",[e._v("Likes: "+e._s(e.recipe.aggregateLikes)+" likes")])]),t("b",[e._v("Ingredients:")]),e.isPersonal?t("ul",e._l(e.recipe.ingredients,(function(r,a){return t("li",{key:a},[e._v(" "+e._s(r.amount)+" "+e._s(r.unit)+" "+e._s(r.name)+" ")])})),0):t("ul",e._l(e.recipe.extendedIngredients,(function(r,a){return t("li",{key:a},[e._v(" "+e._s(r.amount)+" "+e._s(r.unit)+" "+e._s(r.name)+" ")])})),0)]),e.isPersonal?e._e():t("div",{staticClass:"wrapped"},[t("b",[e._v("Instructions:")]),t("ol",e._l(e.recipe._instructions,(function(r){return t("li",{key:r.number},[e._v(" "+e._s(r.step)+" ")])})),0)]),e.isPersonal?t("div",{staticClass:"wrapped"},[t("b",[e._v("Instructions:")]),t("ol",e._l(e.recipe.instructions.split(".").filter(Boolean),(function(r,a){return t("li",{key:a},[e._v(" "+e._s(r)+" ")])})),0)]):e._e()])])]):e._e()])},lt=[];r(9753),r(5827),r(2222);const pt={data:function(){return{recipe:null,isPersonal:!1}},created:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r,a,n,i,s,o,c,u,l,p,d,m,v,f,h,w,y,_,x;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$route.params.recipeId,a=e.$route.params.parentRouteName,t.next=5,de(r);case 5:if(n=t.sent,"personal"!=n&&"family"!=n){t.next=13;break}return t.next=9,J(r);case 9:i=t.sent,e.isPersonal=!0,t.next=16;break;case 13:return t.next=15,re(r);case 15:i=t.sent;case 16:return t.next=18,se(r);case 18:if(i){t.next=22;break}return console.error("No recipe data returned from API"),e.$router.replace("/NotFound"),t.abrupt("return");case 22:return s=i,o=s.analyzedInstructions,c=void 0===o?[]:o,u=s.instructions,l=s.extendedIngredients,p=s.aggregateLikes,d=s.readyInMinutes,m=s.image,v=s.title,f=s.vegetarian,h=s.vegan,w=s.glutenFree,y=s.servings,_=s.ingredients,"myRecipes"!=a&&(x=Array.isArray(c)?c.map((function(e){return Array.isArray(e.steps)&&e.steps.length>0&&(e.steps[0].step=e.name+e.steps[0].step),e.steps||[]})).reduce((function(e,t){return[].concat((0,g.Z)(e),(0,g.Z)(t))}),[]):[]),e.recipe={instructions:u,_instructions:x,analyzedInstructions:c,extendedIngredients:l,aggregateLikes:p,readyInMinutes:d,image:m,title:v,vegetarian:f,vegan:h,glutenFree:w,servings:y,ingredients:_},console.log(e.recipe.ingredients),t.next=28,D(r);case 28:if(!t.sent){t.next=30;break}e.recipe.aggregateLikes+=1;case 30:"string"===typeof e.recipe.ingredients&&(e.recipe.ingredients=JSON.parse(e.recipe.ingredients)),t.next=37;break;case 33:t.prev=33,t.t0=t["catch"](0),console.error("Error fetching recipe data:",t.t0),e.$router.replace("/NotFound");case 37:case"end":return t.stop()}}),t,null,[[0,33]])})))()}},dt=pt;var mt=(0,c.Z)(dt,ut,lt,!1,null,"95d424fa",null);const vt=mt.exports;var ft=function(){var e=this,t=e._self._c;return t("div",[t("RecipePreviewList",{staticClass:"My Recipes Center",attrs:{title:"My Recipes",amount:e.amountMyRecipes,previewType:"myRecipes",recipes:e.myRecipesPreviewList}}),t("CreateRecipeModal",{on:{"recipe-created":e.addRecipe}})],1)},ht=[],gt=function(){var e=this,t=e._self._c;return t("div",[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticStyle:{position:"fixed",bottom:"20px","font-size":"xx-large","padding-left":"25px","padding-right":"20px","margin-left":"-5px"},attrs:{title:"Create Recipe"}},[e._v(" + ")]),t("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Create New Recipe"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[t("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("b-form-group",{attrs:{label:"Title","label-for":"title-input","invalid-feedback":"Title is required",state:e.titleState}},[t("b-form-input",{attrs:{id:"title-input",state:e.titleState,required:""},model:{value:e.recipe.title,callback:function(t){e.$set(e.recipe,"title",t)},expression:"recipe.title"}})],1),t("b-form-group",{attrs:{label:"Summary","label-for":"summary-input",state:e.summaryState}},[t("b-form-textarea",{attrs:{id:"summary-input",state:e.summaryState,required:""},model:{value:e.recipe.summary,callback:function(t){e.$set(e.recipe,"summary",t)},expression:"recipe.summary"}})],1),t("b-form-group",{attrs:{label:"Instructions","label-for":"instruction-input",state:e.instructionsState}},[t("b-form-textarea",{attrs:{id:"instruction-input",state:e.instructionsState,required:""},model:{value:e.recipe.instructions,callback:function(t){e.$set(e.recipe,"instructions",t)},expression:"recipe.instructions"}})],1),t("b-form-group",{attrs:{label:"Ready in Minutes","label-for":"ready-input",state:e.readyState}},[t("b-form-input",{attrs:{id:"ready-input",type:"number",state:e.readyState,required:""},model:{value:e.recipe.readyInMinutes,callback:function(t){e.$set(e.recipe,"readyInMinutes",e._n(t))},expression:"recipe.readyInMinutes"}})],1),t("b-form-group",{attrs:{label:"Image URL","label-for":"image-input","invalid-feedback":"Image URL is required",state:e.imageState}},[t("b-form-input",{attrs:{id:"image-input",state:e.imageState},model:{value:e.recipe.image,callback:function(t){e.$set(e.recipe,"image",t)},expression:"recipe.image"}})],1),t("b-form-checkbox",{attrs:{"true-value":"true","false-value":"false"},model:{value:e.recipe.vegetarian,callback:function(t){e.$set(e.recipe,"vegetarian",t)},expression:"recipe.vegetarian"}},[e._v("Vegetarian")]),t("b-form-checkbox",{attrs:{"true-value":"true","false-value":"false"},model:{value:e.recipe.vegan,callback:function(t){e.$set(e.recipe,"vegan",t)},expression:"recipe.vegan"}},[e._v("Vegan")]),t("b-form-checkbox",{staticStyle:{"margin-bottom":"10px"},attrs:{"true-value":"true","false-value":"false"},model:{value:e.recipe.glutenFree,callback:function(t){e.$set(e.recipe,"glutenFree",t)},expression:"recipe.glutenFree"}},[e._v("Gluten Free")]),e._l(e.recipe.ingredients,(function(r,a){return t("div",{key:a},[t("b-form-input",{attrs:{placeholder:"Ingredient Name",required:""},model:{value:r.name,callback:function(t){e.$set(r,"name",t)},expression:"ingredient.name"}}),t("b-form-input",{attrs:{placeholder:"Amount",type:"text",required:""},model:{value:r.amount,callback:function(t){e.$set(r,"amount",t)},expression:"ingredient.amount"}}),t("b-form-input",{attrs:{placeholder:"Unit",type:"text",required:""},model:{value:r.unit,callback:function(t){e.$set(r,"unit",t)},expression:"ingredient.unit"}}),t("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.removeIngredient(a)}}},[e._v("Remove")])],1)})),t("b-button",{staticStyle:{"margin-top":"10px"},attrs:{variant:"info"},on:{click:e.addIngredient}},[e._v("Add Ingredient")]),t("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[e._v("Create Recipe")])],2)]),e.createdRecipe?t("RecipePreview",{attrs:{recipe:e.createdRecipe}}):e._e()],1)},bt=[],wt=r(5082);r(561);const yt={components:{RecipePreview:ge},data:function(){return{recipe:{id:0,image:"",title:"",summary:"",readyInMinutes:null,vegetarian:!1,vegan:!1,glutenFree:!1,ingredients:[],instructions:"",servings:0},titleState:null,summaryState:null,instructionsState:null,readyState:null,imageState:null,createdRecipe:null}},methods:{checkFormValidity:function(){return this.titleState=!!this.recipe.title,this.summaryState=!!this.recipe.summary,this.instructionsState=!!this.recipe.instructions,this.readyState=!!this.recipe.readyInMinutes,this.imageState=!!this.recipe.image,this.titleState&&this.summaryState&&this.instructionsState&&this.readyState},resetModal:function(){this.recipe={image:"",title:"",summary:"",readyInMinutes:null,vegetarian:!1,vegan:!1,glutenFree:!1,ingredients:[],instructions:"",servings:0},this.titleState=null,this.summaryState=null,this.instructionsState=null,this.readyState=null,this.imageState=null},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleSubmit:function(){var e=this;if(this.checkFormValidity()){this.recipe.image=this.recipe.image||"https://img.spoonacular.com/recipes/716429-556x370.jpg";var t=(0,wt.Z)((0,wt.Z)({},this.recipe),{},{aggregateLikes:0});this.$emit("recipe-created",t),this.$nextTick((function(){e.$refs.modal.hide()}))}},addIngredient:function(){this.recipe.ingredients.push({name:"",amount:"",unit:""})},removeIngredient:function(e){this.recipe.ingredients.splice(e,1)}}},_t=yt;var xt=(0,c.Z)(_t,gt,bt,!1,null,"7bba87ce",null);const kt=xt.exports,Ct={name:"myRecipesPage",components:{RecipePreviewList:_e,CreateRecipeModal:kt},data:function(){return{amountMyRecipes:0,myRecipesPreviewList:[]}},created:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z();case 3:r=t.sent,e.myRecipesPreviewList=r.filter((function(e){return"personal"===e.custom_id})),console.log(e.myRecipesPreviewList),e.amountMyRecipes=r.length,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error("Failed to load user recipes:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{addRecipe:function(e){var t=this;return(0,w.Z)((0,b.Z)().mark((function r(){return(0,b.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.myRecipesPreviewList.push(e),t.amountMyRecipes++,H(e),t.$router.go(0);case 4:case"end":return r.stop()}}),r)})))()}}},Rt=Ct;var St=(0,c.Z)(Rt,ft,ht,!1,null,"2adf7ddc",null);const Zt=St.exports;var $t=function(){var e=this,t=e._self._c;return t("div",[t("RecipePreviewList",{staticClass:"Favorites Center",attrs:{title:"Favorite Recipes",amount:e.amountFavorites,previewType:"favorites",recipes:e.favoriteRecipesPreviewList}})],1)},It=[];const Pt={name:"myFavoritesPage",components:{RecipePreviewList:_e},data:function(){return{amountFavorites:5,favoriteRecipesPreviewList:[]}},created:function(){this.loadFavoriteRecipes()},beforeDestroy:function(){},methods:{loadFavoriteRecipes:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F();case 3:r=t.sent,e.favoriteRecipesPreviewList=r,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("Failed to load favorite recipes:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},removeFromFavorites:function(e){var t=this;return(0,w.Z)((0,b.Z)().mark((function r(){return(0,b.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,L(e.id);case 3:t.favoriteRecipesPreviewList=t.favoriteRecipesPreviewList.filter((function(t){return t.id!==e.id})),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),console.error("Failed to remove favorite recipe:",r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()}}},Lt=Pt;var Mt=(0,c.Z)(Lt,$t,It,!1,null,"d9080432",null);const Ft=Mt.exports;var At=function(){var e=this;e._self._c;return e._m(0)},Et=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"about"},[t("h1",[e._v("About Us")]),t("p",[e._v(" Welcome to our application! This project is a Vue.js, Node.js, MySQL-based application that demonstrates various features and functionalities as per the project specifications. ")]),t("p",[e._v(" Our application allows users to view, add, and manage recipes, favorite recipes, and view detailed recipe information. ")]),t("p",[t("b",[e._v(" Link to the Frontend part of the project in GitHub (2.1): ")]),t("a",{attrs:{href:"https://github.com/WED-2023/assignment2-1-209969245_213047285",target:"_blank"}},[e._v("Frontend GitHub Repository")])]),t("p",[t("b",[e._v(" Link to the Backend part of the project in GitHub (2.3): ")]),t("a",{attrs:{href:"https://github.com/WED-2023/assignment2-3-209969245_213047285",target:"_blank"}},[e._v("Backend GitHub Repository")])]),t("h2",[e._v("Features")]),t("ul",[t("li",[e._v("User authentication (registration, login, logout)")]),t("li",[e._v("View recipes preview")]),t("li",[e._v("View detailed recipe information")]),t("li",[e._v("Manage favorite recipes")]),t("li",[e._v("Manage personal recipes")])])])}];const Tt={name:"AboutPage"},qt=Tt;var Bt=(0,c.Z)(qt,At,Et,!1,null,"b0141f1c",null);const Nt=Bt.exports;var Gt=function(){var e=this,t=e._self._c;return t("div",[t("RecipePreviewList",{staticClass:"Family Recipes Center",attrs:{title:"Family Recipes",amount:e.amountFamilyRecipes,previewType:"myRecipes",recipes:e.familyRecipesPreviewList}}),t("CreateRecipeModal",{on:{"recipe-created":e.addRecipe}})],1)},Dt=[];const Ut={name:"FamilyRecipesPage",components:{RecipePreviewList:_e,CreateRecipeModal:kt},data:function(){return{amountFamilyRecipes:0,familyRecipesPreviewList:[]}},created:function(){var e=this;return(0,w.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z();case 3:r=t.sent,e.familyRecipesPreviewList=r.filter((function(e){return"family"===e.custom_id})),console.log(e.familyRecipesPreviewList),e.amountFamilyRecipes=r.length,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error("Failed to load user recipes:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{addRecipe:function(e){var t=this;return(0,w.Z)((0,b.Z)().mark((function r(){return(0,b.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.familyRecipesPreviewList.push(e),t.amountFamilyRecipes++,V(e),t.$router.go(0);case 4:case"end":return r.stop()}}),r)})))()}}},Ht=Ut;var Ot=(0,c.Z)(Ht,Gt,Dt,!1,null,"e190a794",null);const Vt=Ot.exports;var jt=[{path:"/",name:"main",component:Re},{path:"/register",name:"register",component:Oe},{path:"/login",name:"login",component:Qe},{path:"/search",name:"search",component:ct},{path:"/recipe/:recipeId",name:"recipe",component:vt},{path:"/myRecipes",name:"myRecipes",component:Zt},{path:"/favoriteRecipes",name:"favoriteRecipes",component:Ft},{path:"/familyeRecipes",name:"familyRecipes",component:Vt},{path:"/about",name:"about",component:Nt},{path:"*",name:"notFound",component:Pe}];const zt=jt;var Kt=r(8345),Wt=r(8620),Qt=(r(7024),r(9301)),Jt=r(7563),Yt=r(7419),Xt=r(1869),er=r(2926),tr=r(5773),rr=r(794),ar=r(4063),nr=r(8793),ir=r(8824),sr=r(4503),or=r(5743),cr=r(5808),ur=r(6152);a["default"].use(Kt.ZP);var lr=new Kt.ZP({routes:zt});[Qt.E,Jt.w6,Yt.g,Xt.SY,er.xL,tr.u3,rr.v5,ar.F,nr.m$,ir.A6,sr.k,or.i,cr.Rt,ur.s].forEach((function(e){return a["default"].use(e)})),a["default"].use(Wt.ZP),v().interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),v().interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),a["default"].use(d(),v()),a["default"].config.productionTip=!1;var pr={server_domain:"https://tal-noam.cs.bgu.ac.il",username:localStorage.username,login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username),sessionStorage.clear()},logout:function(){console.log("logout"),localStorage.removeItem("username"),this.username=void 0,sessionStorage.clear()}};console.log(pr),new a["default"]({router:lr,data:function(){return{store:pr}},methods:{toast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:r,solid:!0,appendToast:a,autoHideDelay:3e3})}},render:function(e){return e(l)}}).$mount("#app")},6652:(e,t,r)=>{e.exports=r.p+"img/clock-fill.334834cf.svg"},8890:(e,t,r)=>{e.exports=r.p+"img/heart-fill.ca6ab8a6.svg"},5414:(e,t,r)=>{e.exports=r.p+"img/heart.21dbab61.svg"},7715:(e,t,r)=>{e.exports=r.p+"img/star-fill.3b75270f.svg"},6380:(e,t,r)=>{e.exports=r.p+"img/star.f6f4975a.svg"},3715:(e,t,r)=>{e.exports=r.p+"img/gluten-free-icon.9204b803.png"},7334:(e,t,r)=>{e.exports=r.p+"img/icon.084bca9a.png"},5063:(e,t,r)=>{e.exports=r.p+"img/vegan-icon.fc80d71b.png"},5491:(e,t,r)=>{e.exports=r.p+"img/vegetarian-icon.c8d343e9.png"}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.m=e,(()=>{var e=[];r.O=(t,a,n,i)=>{if(!a){var s=1/0;for(l=0;l<e.length;l++){for(var[a,n,i]=e[l],o=!0,c=0;c<a.length;c++)(!1&i||s>=i)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(o=!1,i<s&&(s=i));if(o){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[a,n,i]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{r.p="/"})(),(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[s,o,c]=a,u=0;if(s.some((t=>0!==e[t]))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(c)var l=c(r)}for(t&&t(a);u<s.length;u++)i=s[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},a=self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=r.O(void 0,[998],(()=>r(5861)));a=r.O(a)})();
//# sourceMappingURL=app.3260811e.js.map